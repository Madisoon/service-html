define(function(require,exports,module){function e(e,t,i){i.checked?a.tag.personTag.insertMyTag(n.user.user_loginname,i.id,function(e){$(".my-tag").append('<span class="label label-primary" tag-id="'+i.id+'">'+i.name+"</span>")}):a.tag.personTag.deleteMyTag(n.user.user_loginname,i.id,function(e){$(".my-tag .label[tag-id="+i.id+"]").remove()})}var a=require("../../common/api"),n=window.parent.SYSTEM,t={check:{enable:!0},callback:{onCheck:e},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"tag_parent",rootPId:0}}};t.check.chkboxType={Y:"",N:""};var i=null;a.tag.tagShow.getTypeTag(function(e){i=e.data,$.fn.zTree.init($("#tag-tree"),t,i),a.tag.personTag.getMyTag(n.user.user_loginname,function(e){for(var a=$.fn.zTree.getZTreeObj("tag-tree"),n=e.data,t=e.data.length,i=[],g=0;g<t;g++){i.push('<span class="label label-primary" tag-id="'+n[g].id+'">'+n[g].name+"</span>");var d=a.getNodeByParam("id",n[g].id);a.selectNode(d),a.checkNode(d,!0,!0),a.updateNode(d)}$(".my-tag").empty(),$(".my-tag").append(i.join(""))})})});