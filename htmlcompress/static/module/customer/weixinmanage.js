define(function(require,exports,module){function e(){$("#wx-table").bootstrapTable("destroy"),$("#wx-table").bootstrapTable({columns:[{checkbox:!0},{field:"wx_number",searchable:!0,sortable:!0,title:"微信账号"},{field:"wx_name",searchable:!0,title:"微信昵称"},{field:"wx_remark",searchable:!0,title:"微信备注"}],pageNumber:1,pageSize:10,dataField:"data",undefinedText:"--",sidePagination:"client",classes:"table table-bordered table-hover",method:"post",url:a.baseUrl+"/getAllWx",pagination:!0,paginationHAlign:"left",paginationDetailHAlign:"right",onClickRow:function(e){t(e,!0),l=0,n=layer.open({title:"修改微信信息",type:1,area:["50%","70%"],content:$("#wx-editor-dialog")}),i=e.id},onLoadSuccess:function(e){}})}function t(e,t){t?($("#wx-number").val(e.wx_number),$("#wx-name").val(e.wx_name),$("#wx-remark").val(e.wx_remark)):($("#wx-number").val(""),$("#wx-name").val(""),$("#wx-remark").val(""))}var a=require("../../common/api");require("../../../spm_modules/bootstrap-3.3.0-dist/dist/js/bootstrap.min.js"),require("../../../spm_modules/bootstrap-table-master/dist/bootstrap-table.min.js"),require("../../../spm_modules/bootstrap-table-master/dist/locale/bootstrap-table-zh-CN.min.js");var n,l,i;$("#add-wx-btn").unbind("click").click(function(){t(null,!1),l=1,n=layer.open({title:" 新增微信",type:1,area:["50%","70%"],content:$("#wx-editor-dialog")})}),$("#wx-cancel-btn").unbind("click").click(function(){layer.close(n)}),$("#delete-wx-btn").unbind("click").click(function(){var t=$("#wx-table").bootstrapTable("getSelections",null),n=t.length,l=[];if(0===n)layer.msg(" 没 有 选 中 任 何 数 据 ");else{for(var i=0;i<n;i++)l.push(t[i].id);a.movement.configureManage.deleteWx(l.join(","),function(t){t.result?(e(),layer.msg(" 删 除 成 功 ！",{icon:1,time:1200})):layer.msg(" 删 除 失 败 ！",{icon:2,time:1200})})}}),$("#wx-post-btn").unbind("click").click(function(){layer.close(n);var e={wx_number:$("#wx-number").val(),wx_name:$("#wx-name").val(),wx_remark:$("#wx-remark").val()};l?a.movement.configureManage.addWx(JSON.stringify(e),function(e){e.result?($("#wx-table").bootstrapTable("refresh",null),layer.msg(" 添 加 成 功 ！",{icon:1,time:1200})):layer.msg(" 添 加 失 败 ！",{icon:2,time:1200})}):a.movement.configureManage.updateWx(JSON.stringify(e),i,function(e){e.result?($("#wx-table").bootstrapTable("refresh",null),layer.msg(" 修 改 成 功 ！",{icon:1,time:1200})):layer.msg(" 修 改 失 败 ！",{icon:2,time:1200})})}),e()});