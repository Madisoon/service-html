!function($,e){$.areaFieldShow={init:function(e){function a(){$.ajax({url:"http://118.178.237.219:8080/yuqingmanage/manage/getTypeArea",type:"post",dataType:"JSON",data:{areaId:""},success:function(e){var a=e.data,r=e.data.length,s=[];if(1==e.result)if("horizontal"==t.fieldStyle){s.push('<form class="form-inline" role="form">'),s.push('<select class="form-control area choiceuser_province" id="first-area">'),s.push('<option value="" selected="selected">请选择</option>');for(var n=0;n<r;n++)s.push('<option class="remove-option"  areaId="'+a[n].id+'"  value="'+a[n].area_name+'">'+a[n].area_name+"</option>");s.push("</select>"),s.push('<select class="form-control area choiceuser_city" id="second-area">'),s.push('<option value="" selected="selected">请选择</option>'),s.push("</select>"),s.push('<select class="form-control area choiceuser_country" id="third-area">'),s.push('<option value="" selected="selected">请选择</option>'),s.push("</select>"),s.push(" </form>"),$("."+t.id).empty(),$("."+t.id).append(s.join("")),$("#first-area").change(function(){var e=$("#first-area>option:selected").attr("areaId");""!=$("#first-area").val()?o(e,"horizontal",""):($("#third-area .remove-option").remove(),$("#second-area .remove-option").remove())})}else{s.push('<div class="form-group"><label class="col-sm-2 control-label">用户省:</label>'),s.push('<div class="col-sm-10">'),s.push('<select class="form-control user_province" id="first-area-update">'),s.push('<option value=""  selected="selected">请选择</option>');for(var n=0;n<r;n++)s.push('<option class="remove-option"  areaId="'+a[n].id+'"  value="'+a[n].area_name+'">'+a[n].area_name+"</option>");s.push("</select>"),s.push("</div>"),s.push("</div>"),s.push(' <div class="form-group"><label class="col-sm-2 control-label">用户市:</label>'),s.push('<div class="col-sm-10">'),s.push('<select class="form-control user_city" id="second-area-update">'),s.push('<option value=""  selected="selected">请选择</option>'),s.push("</select>"),s.push("</div>"),s.push("</div>"),s.push('<div class="form-group"><label class="col-sm-2 control-label">用户区县:</label>'),s.push('<div class="col-sm-10">'),s.push('<select class="form-control user_country" id="third-area-update">'),s.push('<option value=""  selected="selected">请选择</option>'),s.push("</select>"),s.push("</div>"),s.push("</div>"),$("#"+t.id).append(s.join("")),$("#first-area-update").change(function(){var e=$("#first-area-update>option:selected").attr("areaId");if($("#third-area-update .remove-option").remove(),$("#second-area-update .remove-option").remove(),""!=$("#first-area-update").val()){o(e,"vertical",{user_city:""})}else $("#third-area-update .remove-option").remove(),$("#second-area-update .remove-option").remove()})}},error:function(e){console.log(e),layer.msg(" 方 法 异 常 first！")}})}function o(e,a,o){$.ajax({url:"http://118.178.237.219:8080/yuqingmanage/manage/getTypeArea",type:"post",dataType:"json",data:{areaId:e},success:function(e){if(console.log(e),1==e.result){for(var t=e.data,s=e.data.length,n=[],i=0;i<s;i++)n.push('<option class="remove-option"  areaId="'+t[i].id+'"  value="'+t[i].area_name+'">'+t[i].area_name+"</option>");if("horizontal"==a)$("#second-area .remove-option").remove(),$("#second-area").append(n.join("")),$("#second-area").change(function(){var e=$("#second-area>option:selected").attr("areaId");""!=$("#second-area").val()?r(e,"horizontal",""):$("#third-area .remove-option").empty()});else if($("#second-area-update .remove-option").remove(),$("#second-area-update").append(n.join("")),$("#second-area-update").change(function(){var e=$("#second-area-update>option:selected").attr("areaId");""!=$("#second-area-update").val()?r(e,"vertical",""):$("#third-area-update .remove-option").remove()}),""!=o.user_city){$("#second-area-update").val(o.user_city);var d=$("#second-area-update > option:selected").attr("areaId");r(d,"vertical",o.user_country)}}else $("#third-area-update .remove-option").remove(),$("#second-area-update .remove-option").remove(),$("#third-area .remove-option").remove(),$("#second-area .remove-option").remove()},error:function(e){layer.msg(" 方 法 异 常 second！")}})}function r(e,a,o){$.ajax({url:"http://118.178.237.219:8080/yuqingmanage/manage/getTypeArea",type:"post",dataType:"json",data:{areaId:e},success:function(e){if(1==e.result){for(var r=e.data,t=e.data.length,s=[],n=0;n<t;n++)s.push('<option class="remove-option"  areaId="'+r[n].id+'"  value="'+r[n].area_name+'">'+r[n].area_name+"</option>");"horizontal"==a?($("#third-area .remove-option").remove(),$("#third-area").append(s.join(""))):($("#third-area-update .remove-option").remove(),$("#third-area-update").append(s.join("")),""!=o&&$("#third-area-update").val(o))}else $("#third-area-update .remove-option").remove(),$("#third-area .remove-option").remove()},error:function(e){layer.msg(" 方 法 异 常 third！")}})}var t={id:"",areaProvince:"",areaCity:"",areaCounty:"",fieldStyle:""};t=$.extend({},t,e),this.writeAreaFieldDom=function(){a()},this.assignmentSelect=function(e){var a={user_province:"",user_city:"",user_country:""};a=$.extend({},a,e),$("#first-area-update").val(a.user_province),o($("#first-area-update > option:selected").attr("areaId"),"vertical",a)},this.getAreaFieldValue=function(){var e={user_province:"",user_city:"",user_country:""};return e.user_province=$("#first-area-update").val(),e.user_city=$("#second-area-update").val(),e.user_country=$("#third-area-update").val(),e}}}}($,window);