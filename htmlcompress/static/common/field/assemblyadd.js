function object(e){function l(){}return l.prototype=e,new l}function inheritPrototype(e,l){var i=object(l.prototype);i.constructor=e,e.prototype=i}function allField(e){this.config={field_title:e.field_title,field_type:e.field_type,field_hint:e.field_hint,field_must:e.field_must,field_value:e.field_value,field_name:e.field_name,field_fix:e.field_fix}}function inputField(e){allField.call(this,e);this.writedom=function(e,l,i){var t=[];t.push('<form role="form">'),t.push('<div class="form-group">'),t.push("<label>字段标题 :</label>"),t.push('<input type="text" class="form-control field-title"  placeholder="字段标题">'),t.push("</div>"),t.push('<div class="form-group">'),t.push("<label>提示文字 :</label>"),t.push('<input type="text" class="form-control field-hint" placeholder="提示文字">'),t.push("</div>"),t.push('<div class="checkbox">'),t.push(' <div class="label">是否必填</div>'),t.push("<label>"),t.push('<input type="checkbox" class=" field-must"> 是'),t.push("</label>"),t.push("</div>"),t.push("</form>"),$("."+e).append(t.join("")),i&&function(){$(".form-control.field-title").val(l[0].field_title),$(".form-control.field-hint").val(l[0].field_hint),1==l[0].field_must&&$(".checkbox .field-must").prop("checked",!0),1==l[0].field_fix&&($(".form-control.field-title").prop("disabled",!0),$(".form-control.field-hint").prop("disabled",!0),$(".checkbox .field-must").prop("disabled",!0))}()}}function selectField(e){allField.call(this,e),this.writedom=function(e,l,i){var t=[];t.push('<form role="form">'),t.push('<div class="form-group"><label>字段标题 :</label><input type="text" class="form-control field-title" placeholder="字段标题">'),t.push("</div>"),t.push('<div class="form-group fi">'),t.push("<label>选项设置 :</label>"),t.push('<div class="field-value">'),t.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="选项一">'),t.push('<span class="glyphicon glyphicon-plus bordered span-icon-cursor span-blue add"></span>'),t.push("</div>"),t.push('<div class="field-value">'),t.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="选项二">'),t.push('<span class="glyphicon glyphicon-minus bordered span-icon-cursor span-red remove"></span>'),t.push("</div>"),t.push('<div class="field-value">'),t.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="选项三">'),t.push('<span class="glyphicon glyphicon-minus bordered span-icon-cursor span-red remove"></span>'),t.push("</div>"),t.push("</div>"),t.push('<div style="clear: both"></div>'),t.push('<div class="checkbox">'),t.push('<div class="label">是否必填</div>'),t.push('<label><input type="checkbox" class="field-must"> 是</label></div>'),t.push("</form>"),$("."+e).append(t.join("")),function(){if(i){$(".form-group.fi").empty(),$(".form-control.field-title").val(l[0].field_title),1==l[0].field_must&&$(".checkbox .field-must").prop("checked",!0);var e=[];e.push("<label>选项设置 :</label>");for(var t=l.length,s=0;s<t;s++)0==s?(e.push('<div class="field-value">'),e.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="'+l[s].custom_value+'">'),e.push('<span class="glyphicon glyphicon-plus bordered span-icon-cursor span-blue add"></span>'),e.push("</div>")):(e.push('<div class="field-value">'),e.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="'+l[s].custom_value+'">'),e.push('<span class="glyphicon glyphicon-minus bordered span-icon-cursor span-red remove"></span>'),e.push("</div>"));$(".form-group.fi").append(e.join("")),1==l[0].field_fix?($(".form-control.field-title").prop("disabled",!0),$(".form-control.field-value-input").prop("disabled",!0),$(".checkbox .field-must").prop("disabled",!0)):$("form span.add").unbind("click").click(function(){var e=[];e.push('<div class="field-value">'),e.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="新增选项">'),e.push('<span class="glyphicon glyphicon-minus bordered span-icon-cursor span-red remove"></span>'),e.push("</div>"),$(this).parent().after(e.join("")),$("form span.remove").unbind("click").click(function(){$(this).parent().remove()})})}$("form span.add").unbind("click").click(function(){var e=[];e.push('<div class="field-value">'),e.push('<input type="text" class="form-control field-value-input" placeholder="选项值" value="新增选项">'),e.push('<span class="glyphicon glyphicon-minus bordered span-icon-cursor span-red remove"></span>'),e.push("</div>"),$(this).parent().after(e.join("")),$("form span.remove").unbind("click").click(function(){$(this).parent().remove()})})}(),$("form span.remove").unbind("click").click(function(){$(this).parent().remove()})}}allField.prototype={postData:function(e,l,i,t,s){var o,p=this.config,n={};n="input"==p.field_type||"textarea"==p.field_type||"inputtime"==p.field_type?$.extend({},p,function(){var e={field_title:"",field_hint:"",field_must:""};return e.field_title=$("form .field-title").val(),e.field_hint=$("form .field-hint").val(),$("form .field-must").prop("checked")?e.field_must="1":e.field_must="0",e}()):$.extend({},p,function(){var e={field_title:"",field_must:"",field_value:""};e.field_title=$("form .field-title").val();var l=[];return $("form .field-value .field-value-input").each(function(){l.push($(this).val())}),e.field_value=l.join("@"),$("form .field-must").prop("checked")?e.field_must="1":e.field_must="0",e}()),""==n.field_title||""==n.field_must?(layer.msg("请 先 填 写 完 整"),o=0):(o=1,function(e){$.ajax({url:"http://118.178.237.219:8080/yuqingmanage/manage/postFieldData",type:"POST",dataType:"JSON",data:{configData:JSON.stringify(e),id:t},success:function(e){1==e.result?(i(),""===t?layer.msg(" 添 加 成 功",{icon:1,time:1200}):layer.msg(" 修 改 成 功",{icon:1,time:1200})):""===t?layer.msg(" 添 加 失 败",{icon:2,time:1200}):layer.msg(" 修 改 失 败",{icon:2,time:1200})},error:function(e){alert("方法异常")}})}(n)),null!=s&&s(o)}},inheritPrototype(selectField,allField),inheritPrototype(inputField,allField);