define(function(require,exports,module){function e(){return{customer_name:$(".form-control.customer_name").val(),customer_status:$(".form-control.customer_status").val()}}function t(e,t){e?(s=t.id,$(".form-control.customer_name").val(t.customer_name),$(".form-control.customer_status").val(t.customer_status)):$(".form-control.customer_name").val("")}function n(e){t(!0,e),r=layer.open({title:" 用户信息管理 ",type:1,area:["50%","40%"],maxmin:!0,shadeClose:!0,content:$("#userInfoDialog")})}var o,a=require("../../common/api"),r="",s="";$("#user-table").bootstrapTable({columns:[{checkbox:!0},{field:"customer_name",searchable:!0,sortable:!0,title:"客户名称"},{field:"customer_status",searchable:!0,title:"客户状态"},{field:"customer_time",title:"创建时间"},{field:"yuqinguser_number",title:"所有人数"}],pageNumber:1,pageSize:12,search:!0,dataField:"data",undefinedText:"--",showColumns:"true",classes:"table table-bordered table-hover",method:"post",formatSearch:function(){return"任意搜索"},url:a.baseUrl+"/getAllCustomer",queryParamsType:"undefined",pagination:!0,paginationHAlign:"left",paginationDetailHAlign:"right",onClickRow:function(e){o=!1,n(e)},onLoadSuccess:function(e){}}),$("#reserve-button").unbind("click").click(function(){o?a.customManage.customerManage.insertCustomer(JSON.stringify(e()),function(e){1==e.result?(layer.close(r),layer.msg(" 新 增 成 功 ",{icon:1,time:1200,success:function(){$("#user-table").bootstrapTable("refresh",null)}})):layer.msg(" 新 增 失 败",{icon:2,time:1200})}):a.customManage.customerManage.changeCustomer(JSON.stringify(e()),s,function(e){1==e.result?(layer.close(r),layer.msg(" 修 改 成 功 ",{icon:1,time:1200,success:function(){$("#user-table").bootstrapTable("refresh",null)}})):layer.msg(" 修 改 失 败",{icon:2,time:1200})})}),$("#cancel-button").unbind("click").click(function(){layer.close(r)}),$("#addUserData").unbind("click").click(function(){t(!1,""),o=!0,r=layer.open({title:" 用户信息管理 ",type:1,area:["50%","40%"],shadeClose:!0,content:$("#userInfoDialog")})}),$("#deleteUserData").unbind("click").click(function(){var e=$("#user-table").bootstrapTable("getSelections",null),t=e.length,n=[];if(0===t)layer.msg(" 没 有 选 中 任 何 数 据 ");else{for(var o=0;o<t;o++)n.push(e[o].id);console.log(n),a.customManage.customerManage.deleteCustomer(n.join("@"),function(e){1==e.result&&$("#user-table").bootstrapTable("refresh",null)})}})});